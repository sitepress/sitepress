<%
  file_path = current_page.asset.path.to_s

  plain_text_error = <<~ERROR
#{@exception.class}: #{@exception.message}
File: #{file_path}

Backtrace:
#{@exception.backtrace.first(15).join("\n")}
ERROR
-%>

<pre id="error-text" class="visually-hidden"><%= plain_text_error %></pre>

<div class="error-header">
  <div class="error-type">Parse Error</div>
  <h1 class="error-message"><%= @exception.message %></h1>

  <div class="source-section">
    <div class="source-section__header">
      <span class="source-section__title"><%= file_path %></span>
      <%= render "site/copy_button" %>
    </div>
  </div>
</div>

<div class="error-content">
  <div class="trace-container">
    <div class="trace-section">
      <div class="trace-section__title">Common causes</div>
      <ul class="error-list">
        <li>Missing closing <code class="error-code">---</code> delimiter</li>
        <li>Invalid YAML syntax (bad indentation, missing quotes)</li>
        <li>Tabs instead of spaces for indentation</li>
        <li>Special characters that need quoting: <code class="error-code">: { } [ ] , &amp; * # ? | - &lt; &gt; = ! % @ \</code></li>
      </ul>
    </div>
  </div>
  <%= render "site/footer" %>
</div>
